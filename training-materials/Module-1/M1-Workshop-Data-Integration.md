# Workshop 1.2: Data Integration Exercise
## แบบฝึกหัด: การรวมข้อมูลจากหลายแหล่ง

---

## สถานการณ์

คุณได้รับมอบหมายให้วิเคราะห์ความสัมพันธ์ระหว่าง **ทรัพยากรสุขภาพ** และ **ผลลัพธ์ด้านสุขภาพ** ใน 5 จังหวัดภาคเหนือตอนบน

**ข้อมูลที่มี:**
- **Dataset A:** ข้อมูลทรัพยากรสุขภาพ (จำนวน รพ., แพทย์, พยาบาล) - ระดับจังหวัด
- **Dataset B:** ข้อมูลผลลัพธ์ด้านสุขภาพ (อัตราตาย, อายุคาดเฉลี่ย) - ระดับจังหวัด
- **Dataset C:** ข้อมูลประชากรและเศรษฐกิจ - ระดับจังหวัด

---

## ส่วนที่ 1: วิเคราะห์โครงสร้างข้อมูล

### 1.1 Dataset A: ทรัพยากรสุขภาพ

| จังหวัด | รหัสจังหวัด | จำนวน รพ.ศูนย์ | จำนวน รพ.ทั่วไป | จำนวน รพ.ชุมชน | จำนวนแพทย์ | จำนวนพยาบาล |
|---------|-----------|--------------|---------------|--------------|----------|------------|
| เชียงราย | 57 | 1 | 8 | 25 | 450 | 2800 |
| เชียงใหม่ | 50 | 3 | 12 | 35 | 1200 | 5600 |
| ลำปาง | 52 | 1 | 6 | 20 | 320 | 1900 |
| ลำพูน | 51 | 0 | 4 | 15 | 180 | 1200 |
| แพร่ | 54 | 0 | 5 | 18 | 210 | 1400 |

### 1.2 Dataset B: ผลลัพธ์ด้านสุขภาพ

| ชื่อจังหวัด | รหัส | อัตราตายทารก | อัตราตายมารดา | อายุคาดเฉลี่ย | อัตราป่วยด้วยโรคหัวใจ |
|------------|-----|------------|------------|------------|------------------|
| Chiang Rai | 57 | 8.5 | 65 | 72.3 | 45.2 |
| Chiang Mai | 50 | 6.2 | 45 | 74.1 | 38.5 |
| Lampang | 52 | 9.8 | 78 | 71.5 | 52.3 |
| Lamphun | 51 | 10.5 | 82 | 70.8 | 55.1 |
| Phrae | 54 | 9.2 | 75 | 71.2 | 48.7 |

### 1.3 Dataset C: ประชากรและเศรษฐกิจ

| รหัส | จังหวัด (ไทย) | ประชากร (พันคน) | พื้นที่ (ตร.กม.) | GDP ต่อหัว (บาท) | ร้อยละยากจน |
|-----|------------|---------------|---------------|---------------|-----------|
| 050 | เมืองเชียงใหม่ | 1780 | 22,311 | 285,000 | 8.5 |
| 051 | ลำพูน | 420 | 4,506 | 198,000 | 15.2 |
| 052 | ลำปาง | 720 | 12,534 | 215,000 | 12.8 |
| 054 | แพร่ | 380 | 6,539 | 205,000 | 14.5 |
| 057 | เชียงรัย | 1290 | 11,503 | 195,000 | 18.2 |

---

## ส่วนที่ 2: ตรวจสอบความสอดคล้อง

### 2.1 ปัญหาที่พบ

จากการตรวจสอบข้อมูลทั้ง 3 ชุด พบปัญหาอะไรบ้าง?

| ปัญหา | Dataset ที่เกิด | รายละเอียด | วิธีแก้ไข |
|------|---------------|----------|----------|
| 1. | | | |
| 2. | | | |
| 3. | | | |
| 4. | | | |
| 5. | | | |

**ตัวอย่างปัญหาที่อาจพบ:**
- รหัสจังหวัดไม่สอดคล้อง (2 หลัก vs 3 หลัก)
- ชื่อจังหวัดเขียนต่างกัน (ไทย vs อังกฤษ)
- ข้อมูลตกหล่น (บางจังหวัดมีในบางชุดแต่ไม่มีในชุดอื่น)
- ชื่อจังหวัดสะกดผิด

### 2.2 แผนการแก้ไข

อธิบายวิธีที่จะใช้ในการแก้ไขปัญหาแต่ละข้อ:

_________________________________________________________________

_________________________________________________________________

_________________________________________________________________

---

## ส่วนที่ 3: การ Mapping

### 3.1 สร้าง Master Key

สร้างตาราง mapping ระหว่างรหัสและชื่อจังหวัด:

| รหัสมาตรฐาน | ชื่อจังหวัด (ไทย) | ชื่อจังหวัด (อังกฤษ) | หมายเหตุ |
|-----------|----------------|------------------|---------|
| 50 | เชียงใหม่ | Chiang Mai | |
| | | | |
| | | | |
| | | | |
| | | | |

### 3.2 ตารางรวมข้อมูล (Merged Dataset)

รวมข้อมูลจากทั้ง 3 Dataset เข้าด้วยกัน:

| รหัส | จังหวัด | ประชากร | แพทย์/ประชากร | อัตราตายมารดา | GDP ต่อหัว | % ยากจน |
|-----|---------|---------|--------------|------------|----------|---------|
| 50 | | | | | | |
| 51 | | | | | | |
| 52 | | | | | | |
| 54 | | | | | | |
| 57 | | | | | | |

**คำนวณค่าดัชนี:**
- แพทย์ต่อประชากร = (จำนวนแพทย์ / ประชากร) × 1000

---

## ส่วนที่ 4: การตรวจสอบคุณภาพหลังรวมข้อมูล

### 4.1 Completeness Check

| ตัวแปร | จำนวนที่มีข้อมูล | จำนวนทั้งหมด | % Complete |
|--------|---------------|------------|-----------|
| รหัสจังหวัด | | 5 | |
| ชื่อจังหวัด | | 5 | |
| ประชากร | | 5 | |
| จำนวนแพทย์ | | 5 | |
| อัตราตายมารดา | | 5 | |
| GDP ต่อหัว | | 5 | |

### 4.2 Consistency Check

ตรวจสอบความสอดคล้องเชิงตรรกะ:

| การตรวจสอบ | ผลลัพธ์ | ผ่าน/ไม่ผ่าน |
|-----------|--------|------------|
| ประชากร > 0 | | |
| จำนวนแพทย์ < ประชากร | | |
| อัตราตายมารดา > 0 | | |
| GDP ต่อหัว > 0 | | |
| ร้อยละยากจน 0-100 | | |

### 4.3 Outlier Detection

พบ Outliers หรือไม่? อธิบาย:

_________________________________________________________________

_________________________________________________________________

---

## ส่วนที่ 5: Data Dictionary

สร้าง Data Dictionary สำหรับชุดข้อมูลรวม:

| Field Name | Description | Data Type | Source | Calculation | Notes |
|-----------|-------------|-----------|--------|-------------|-------|
| prov_code | รหัสจังหวัด | String | Master | - | 2 digits |
| prov_name | ชื่อจังหวัด | String | Master | - | Thai |
| population | ประชากร | Integer | Dataset C | - | พันคน |
| doctors | จำนวนแพทย์ | Integer | Dataset A | - | คน |
| doctor_ratio | แพทย์ต่อประชากร | Float | Calculated | (doctors/population)*1000 | ต่อ 1000 |
| mmr | อัตราตายมารดา | Float | Dataset B | - | ต่อ 100,000 |
| gdp_capita | GDP ต่อหัว | Integer | Dataset C | - | บาท |
| poverty_pct | ร้อยละยากจน | Float | Dataset C | - | % |

---

## ส่วนที่ 6: การวิเคราะห์เบื้องต้น

### 6.1 สถิติสรุป

| ตัวแปร | ค่าต่ำสุด | ค่าสูงสุด | ค่าเฉลี่ย | ส่วนเบี่ยงเบนมาตรฐาน |
|--------|----------|----------|---------|------------------|
| แพทย์ต่อประชากร | | | | |
| อัตราตายมารดา | | | | |
| GDP ต่อหัว | | | | |
| % ยากจน | | | | |

### 6.2 ความสัมพันธ์เบื้องต้น

จากการสังเกตข้อมูล พบความสัมพันธ์อะไรบ้าง?

_________________________________________________________________

_________________________________________________________________

_________________________________________________________________

---

## ส่วนที่ 7: บันทึกปัญหาและข้อจำกัด

### 7.1 ปัญหาที่พบในกระบวนการรวมข้อมูล

1. ________________________________________________________________
2. ________________________________________________________________
3. ________________________________________________________________

### 7.2 ข้อจำกัดของข้อมูลรวม

1. ________________________________________________________________
2. ________________________________________________________________
3. ________________________________________________________________

### 7.3 ข้อแนะนำสำหรับการใช้ข้อมูล

_________________________________________________________________

_________________________________________________________________

---

## สรุปผลการทำ Workshop

**สิ่งที่ได้เรียนรู้:**

_________________________________________________________________

_________________________________________________________________

**ปัญหาที่ยากที่สุด:**

_________________________________________________________________

**แนวทางปรับปรุง:**

_________________________________________________________________

---

**ชื่อผู้ทำ:** ___________________

**วันที่:** ___________________

**เวลาที่ใช้:** ___________________