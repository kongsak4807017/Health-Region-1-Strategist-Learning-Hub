# Module 1.2: การค้นหาและรวบรวมข้อมูล (Data Collection & Integration)
## เอกสารประกอบการสอน - ฉบับละเอียด

---

## สารบัญ
1. [การกำหนดคำถามวิจัย (SMART Questions)](#1-การกำหนดคำถามวิจัย-smart-questions)
2. [การค้นหาข้อมูลเชิงกลยุทธ์](#2-การค้นหาข้อมูลเชิงกลยุทธ์)
3. [การรวมข้อมูลจากหลายแหล่ง](#3-การรวมข้อมูลจากหลายแหล่ง)
4. [การสร้าง Data Dictionary](#4-การสร้าง-data-dictionary)

---

## 1. การกำหนดคำถามวิจัย (SMART Questions)

### 1.1 หลักการ SMART สำหรับคำถามวิจัย

| ตัวอักษร | ความหมาย | ตัวอย่างที่ดี | ตัวอย่างที่ต้องปรับปรุง |
|---------|---------|--------------|---------------------|
| S | Specific (เฉพาะเจาะจง) | "อัตราการตายมารดาใน 5 จังหวัดภาคเหนือตอนบน" | "สุขภาพมารดา" |
| M | Measurable (วัดได้) | "ลดจาก 80 เหลือ 50 ต่อ 100,000" | "ดีขึ้น" |
| A | Achievable (ตอบได้) | มีข้อมูล available | ถามเรื่องที่ไม่มีข้อมูล |
| R | Relevant (สัมพันธ์) | ตอบปัญหานโยบาย | เกินขอบเขต |
| T | Time-bound (มีกรอบเวลา) | "ปี 2565-2567" | ไม่ระบุช่วงเวลา |

### 1.2 แปลงปัญหานโยบายเป็นคำถามวิจัย

**กระบวนการ 3 ขั้นตอน:**

```
ปัญหานโยบาย → คำถามหลัก → คำถามย่อย → ตัวแปรที่ต้องการ
```

**ตัวอย่าง:**

**ปัญหานโยบาย:** 
"อัตราตายมารดาสูงในจังหวัดเชียงราย"

**คำถามหลัก (Main Question):**
"อะไรเป็นสาเหตุของอัตราตายมารดาสูงในจังหวัดเชียงราย และควรแก้ไขอย่างไร?"

**คำถามย่อย (Sub-questions):**
1. อัตราตายมารดาในจังหวัดเชียงรายเป็นเท่าใด? สูงกว่าค่าเฉลี่ยประเทศหรือไม่?
2. สาเหตุการตายมารดาหลักคืออะไร? ( bleeding, eclampsia, infection)
3. กลุ่มประชากรใดมีความเสี่ยงสูง? (อายุ, ที่อยู่, การศึกษา)
4. อุปสรรคในการเข้าถึงบริการ ANC และการคลอดคืออะไร?
5. ความสามารถของระบบบริการในการจัดการภาวะฉุกเฉินเป็นอย่างไร?

**ตัวแปรที่ต้องการ:**
| ตัวแปร | ประเภท | แหล่งข้อมูล |
|-------|-------|------------|
| Maternal Mortality Ratio | Outcome | MOPH |
| Causes of death | Categorical | MOPH |
| ANC coverage | Process | NHSO |
| Delivery place | Process | NHSO |
| Geographic access | Context | GIS |
| Health facility capacity | Context | MOPH |

---

## 2. การค้นหาข้อมูลเชิงกลยุทธ์

### 2.1 ระบุตัวแปรหลัก (Key Variables)

**ตัวแปรในการวิเคราะห์สุขภาพ:**

```
ตัวแปรต้น (Independent) → ตัวแปรกลาง (Intermediate) → ตัวแปรตาม (Outcome)
```

**ตัวอย่างในระบบสุขภาพ:**
| ระดับ | ตัวอย่าง |
|------|---------|
| Input | งบประมาณ บุคลากร อุปกรณ์ |
| Process | การให้บริการ การส่งต่อ |
| Output | จำนวนผู้รับบริการ |
| Outcome | อัตรารอดชีวิต ภาวะแทรกซ้อน |
| Impact | อายุคาดเฉลี่ย DALYs |

### 2.2 กำหนดระดับการวิเคราะห์

| ระดับ | ขนาด | ตัวอย่างข้อมูล | เหมาะสำหรับ |
|-------|------|--------------|------------|
| Individual | 1 คน | HDC, Survey | วิจัยเชิงลึก |
| Facility | หน่วยบริการ | Service data | วิเคราะห์คุณภาพ |
| District | อำเภอ | สสจ. | วางแผนพื้นที่ |
| Provincial | จังหวัด | สคร. | นโยบายจังหวัด |
| Regional | เขต | สตร. | นโยบายเขต |
| National | ประเทศ | กระทรวง | นโยบายประเทศ |

### 2.3 เลือกช่วงเวลา (Time Period)

**ข้อควรพิจารณา:**
- **Baseline:** ปีก่อน intervention
- **Trend:** อย่างน้อย 3-5 ปี
- **Seasonality:** ข้อมูลรายเดือนสำหรับโรคติดต่อ
- **Data availability:** ข้อมูลปีล่าสุดที่มี

**ตัวอย่าง:**
```
การศึกษาผลกระทบ COVID-19:
- Pre-COVID: 2560-2562 (baseline)
- During COVID: 2563-2564 (intervention period)
- Post-COVID: 2565-2566 (recovery)
```

---

## 3. การรวมข้อมูลจากหลายแหล่ง (Data Integration)

### 3.1 ขั้นตอนการรวมข้อมูล

```
1. ระบุ Key → 2. ตรวจสอบ Consistency → 3. Merge → 4. Validate
```

### 3.2 การใช้รหัสพื้นที่มาตรฐาน

**รหัสจังหวัด (2 หลัก):**
| รหัส | จังหวัด | เขต |
|-----|---------|-----|
| 10 | กรุงเทพฯ | กรุงเทพฯ |
| 11 | สมุทรปราการ | กรุงเทพฯ |
| 50 | เชียงใหม่ | ภาคเหนือ |
| 80 | นครศรีธรรมราช | ภาคใต้ |

**รหัสอำเภอ (4 หลัก):** [จังหวัด][อำเภอ]
- ตัวอย่าง: 5001 = อำเภอเมืองเชียงใหม่

### 3.3 การจัดการกับนิยามที่ต่างกัน

**ตัวอย่างปัญหา: "ผู้ป่วยเบาหวาน"**

| แหล่งข้อมูล | นิยาม | ผลที่ได้ |
|------------|-------|---------|
| MOPH | วินิจฉัย ICD-10 E10-E14 | จำนวนมาก |
| NHSO | มีรหัส DM + ได้รับยา | จำนวนน้อยกว่า |
| NSO Survey | ตอบว่าเป็นเบาหวาน | Self-reported |

**แนวทางแก้ไข:**
1. ระบุนิยามที่ใช้ชัดเจน
2. เลือกแหล่งข้อมูลตามวัตถุประสงค์
3. หลีกเลี่ยงการเปรียบเทียบตัวเลขโดยตรง

### 3.4 การรวมข้อมูลแบบต่างๆ

**A. One-to-One Merge**
```
Dataset A (จังหวัด, อัตราตายมารดา) 
+ 
Dataset B (จังหวัด, จำนวน รพ.)
= 
Merged (จังหวัด, อัตราตายมารดา, จำนวน รพ.)
```

**B. One-to-Many Merge**
```
Dataset A (จังหวัด, ภูมิภาค)
+
Dataset B (อำเภอ, จังหวัด, อัตรา)
=
Merged (อำเภอ, จังหวัด, ภูมิภาค, อัตรา)
```

**C. Many-to-Many (หลีกเลี่ยง)**
- ใช้ intermediary table
- หรือ aggregate ก่อน merge

### 3.5 ตารางการ Mapping ข้อมูล

| แหล่งข้อมูล A | แหล่งข้อมูล B | Key ที่ใช้รวม | ปัญหาที่อาจเกิด |
|--------------|--------------|--------------|---------------|
| MOPH (จังหวัด) | NHSO (จังหวัด) | รหัสจังหวัด | นิยามต่างกัน |
| HDC (หมู่บ้าน) | NSO (ตำบล) | รหัสตำบล | Level ต่างกัน |
| ข้อมูลรายปี | ข้อมูลรายเดือน | ปี | Aggregation |

---

## 4. การสร้าง Data Dictionary

### 4.1 โครงสร้าง Data Dictionary

| Field | Description | Type | Values | Source | Notes |
|-------|-------------|------|--------|--------|-------|
| prov_code | รหัสจังหวัด | String | 10-96 | MOPH | 2 digits |
| prov_name | ชื่อจังหวัด | String | - | MOPH | Thai |
| mmr | อัตราตายมารดา | Numeric | 0-200 | MOPH | ต่อ 100,000 |
| year | ปี | Integer | 2560-2567 | - | พ.ศ. |

### 4.2 การ Document Limitations

**ตัวอย่าง:**
```
ข้อจำกัดของชุดข้อมูล:
1. ข้อมูล MOPH ปี 2566 ยังไม่สมบูรณ์ (complete ~85%)
2. นิยาม DM ของ NHSO ต่างจาก MOPH
3. ขาดข้อมูลบางจังหวัดในปี 2563 (COVID)
4. มี outliers ในจังหวัดที่มีประชากรน้อย
```

---

## แบบฝึกหัด: Data Integration

**สถานการณ์:** 
ต้องการวิเคราะห์ความสัมพันธ์ระหว่างจำนวน รพ.สต. กับอัตราตายมารดาในระดับอำเภอ

**ข้อมูลที่มี:**
1. ข้อมูลอัตราตายมารดาระดับอำเภอจาก MOPH
2. ข้อมูลทรัพยากรสุขภาพระดับจังหวัดจาก MOPH

**คำถาม:**
1. จะรวมข้อมูลอย่างไร?
2. มีปัญหาอะไรบ้าง?
3. จะแก้ไขอย่างไร?

---

## Checklist ก่อนใช้ข้อมูล

- [ ] ตรวจสอบปีข้อมูล
- [ ] ตรวจสอบนิยามตัวแปร
- [ ] ตรวจสอบรหัสพื้นที่
- [ ] ตรวจสอบ Missing data
- [ ] ตรวจสอบ Outliers
- [ ] Document Data Dictionary
- [ ] Document Limitations

---

*เอกสารฉบับนี้จัดทำเมื่อ: พฤษภาคม 2568*